# üë• –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

**–î–∞—Ç–∞:** 22 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

---

## üéØ –ó–∞–¥–∞—á–∞

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ò—Ö —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –≤–æ –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–∞—Ö –ø–æ–¥ –∏—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

**–ü—Ä–∏–º–µ—Ä:** –ü–∞–≤–µ–ª –ü–æ–∑–Ω–∞–Ω—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ 4 –≥–æ—Ä–æ–¥–∞:
- –ü–æ–∑–Ω–∞–Ω—å (–æ—Å–Ω–æ–≤–Ω–æ–π)
- –ö–∞—Ç–æ–≤–∏—Ü–µ
- –ë–µ–ª–æ—Å—Ç–æ–∫
- –õ—é–±–ª–∏–Ω

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –≤ –∫–æ–¥–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

### –§–∞–π–ª: `src/app/api/country-analytics/route.ts`

```typescript
// –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –∏ –≥–æ—Ä–æ–¥–∞ –ø–æ–¥ –∏—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
// –ò—Ö —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
const REGIONAL_MANAGERS: Record<string, string[]> = {
  'mix003': ['POZNAN', 'KATOWICE', 'BIALYSTOK', 'LUBLIN'], // –ü–∞–≤–µ–ª –ü–æ–∑–Ω–∞–Ω—å
};
```

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
–ü–∞–≤–µ–ª –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Ç—á–µ—Ç:
- –†–∞–±–æ—á–∏–µ –¥–Ω–∏: 7
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 5
- –°—Ç—Ä–µ—Å—Å: 5

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ:
‚úÖ –ü–æ–∑–Ω–∞–Ω—å: +7 –¥–Ω–µ–π, +5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
‚ùå –ö–∞—Ç–æ–≤–∏—Ü–µ: 0
‚ùå –ë–µ–ª–æ—Å—Ç–æ–∫: 0
‚ùå –õ—é–±–ª–∏–Ω: 0
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
–ü–∞–≤–µ–ª –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Ç—á–µ—Ç:
- –†–∞–±–æ—á–∏–µ –¥–Ω–∏: 7
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 5
- –°—Ç—Ä–µ—Å—Å: 5

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ:
‚úÖ –ü–æ–∑–Ω–∞–Ω—å: +7 –¥–Ω–µ–π, +5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
‚úÖ –ö–∞—Ç–æ–≤–∏—Ü–µ: +7 –¥–Ω–µ–π, +5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
‚úÖ –ë–µ–ª–æ—Å—Ç–æ–∫: +7 –¥–Ω–µ–π, +5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
‚úÖ –õ—é–±–ª–∏–Ω: +7 –¥–Ω–µ–π, +5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
```

---

## üìä –õ–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞

### –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
–ü–∞–≤–µ–ª —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ **1 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫** —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–º –≥–æ—Ä–æ–¥–µ (–ü–æ–∑–Ω–∞–Ω—å), —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

### –ú–µ—Ç—Ä–∏–∫–∏ (—Ä–∞–±–æ—á–∏–µ –¥–Ω–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å—Ç—Ä–µ—Å—Å)
–ú–µ—Ç—Ä–∏–∫–∏ –ü–∞–≤–ª–∞ **—É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö 4 –≥–æ—Ä–æ–¥–∞—Ö**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ —ç—Ç–∏ –≥–æ—Ä–æ–¥–∞.

### –ü—Ä–∏–º–µ—Ä –≤ —Ç–∞–±–ª–∏—Ü–µ "–ü–æ –≥–æ—Ä–æ–¥–∞–º":

| –ì–æ—Ä–æ–¥ | –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | –†–∞–±–æ—á–∏–µ –¥–Ω–∏ | –°—Ç—Ä–µ—Å—Å |
|-------|-----------|-------------|-------------|--------|
| –ü–æ–∑–Ω–∞–Ω—å | 1 (–ü–∞–≤–µ–ª) | 5 | 7 | 5.0 |
| –ö–∞—Ç–æ–≤–∏—Ü–µ | 0 | 5 (–æ—Ç –ü–∞–≤–ª–∞) | 7 (–æ—Ç –ü–∞–≤–ª–∞) | 5.0 |
| –ë–µ–ª–æ—Å—Ç–æ–∫ | 0 | 5 (–æ—Ç –ü–∞–≤–ª–∞) | 7 (–æ—Ç –ü–∞–≤–ª–∞) | 5.0 |
| –õ—é–±–ª–∏–Ω | 0 | 5 (–æ—Ç –ü–∞–≤–ª–∞) | 7 (–æ—Ç –ü–∞–≤–ª–∞) | 5.0 |

---

## ‚ûï –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

### –®–∞–≥ 1: –£–∑–Ω–∞—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ Prisma –∏–ª–∏ —á–µ—Ä–µ–∑ SQL
SELECT id, login, name FROM users WHERE login = '–ª–æ–≥–∏–Ω_–º–µ–Ω–µ–¥–∂–µ—Ä–∞';
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞–ø–ø–∏–Ω–≥

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª `src/app/api/country-analytics/route.ts`:

```typescript
const REGIONAL_MANAGERS: Record<string, string[]> = {
  'mix003': ['POZNAN', 'KATOWICE', 'BIALYSTOK', 'LUBLIN'], // –ü–∞–≤–µ–ª –ü–æ–∑–Ω–∞–Ω—å
  'mix004': ['WARSAW', 'KRAKOW'], // –ù–æ–≤—ã–π —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
};
```

### –®–∞–≥ 3: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å

```bash
git add .
git commit -m "Add new regional manager"
git push
```

–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ó–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –ü–∞–≤–µ–ª –ü–æ–∑–Ω–∞–Ω—å
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å —Ä–∞–±–æ—á–∏–º–∏ –¥–Ω—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 7)
3. –ó–∞–π—Ç–∏ –∫–∞–∫ Country Manager
4. –û—Ç–∫—Ä—ã—Ç—å "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–µ" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ü–æ –≥–æ—Ä–æ–¥–∞–º"
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –ü–∞–≤–ª–∞ —É—á—Ç–µ–Ω—ã –≤ 4 –≥–æ—Ä–æ–¥–∞—Ö:
   - –ü–æ–∑–Ω–∞–Ω—å
   - –ö–∞—Ç–æ–≤–∏—Ü–µ
   - –ë–µ–ª–æ—Å—Ç–æ–∫
   - –õ—é–±–ª–∏–Ω

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```typescript
weeklyReports.forEach(report => {
  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–æ—Ä–æ–¥–∞ –¥–ª—è —ç—Ç–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  const userId = report.user.id;
  const cities = REGIONAL_MANAGERS[userId] || [report.user.city];
  
  // –£—á–∏—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –≤—Å–µ—Ö –µ–≥–æ –≥–æ—Ä–æ–¥–æ–≤
  cities.forEach(city => {
    // ... –¥–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏ –≤ –∫–∞–∂–¥—ã–π –≥–æ—Ä–æ–¥
  });
});
```

### –ß—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤:
- ‚úÖ –†–∞–±–æ—á–∏–µ –¥–Ω–∏ (workdays)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (registered)
- ‚úÖ –°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è (interviews)
- ‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏—è (jobPosts)
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è (messages)
- ‚úÖ –ó–∞–∫–∞–∑—ã (orders)
- ‚úÖ –°—Ç—Ä–µ—Å—Å (stressLevel)
- ‚úÖ –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ (overtimeHours)

### –ß—Ç–æ –ù–ï –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è:
- ‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–º –≥–æ—Ä–æ–¥–µ)

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### ‚úÖ –ü–ª—é—Å—ã:
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production –¥–∞–Ω–Ω—ã–µ

### ‚ö†Ô∏è –ú–∏–Ω—É—Å—ã:
- –•–∞—Ä–¥–∫–æ–¥ –≤ –∫–æ–¥–µ (–Ω–µ –≤ –ë–î)
- –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ–ª—å–∑—è —É–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ UI

### üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
–ï—Å–ª–∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ —Å—Ç–∞–Ω–µ—Ç –º–Ω–æ–≥–æ, –º–æ–∂–Ω–æ:
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ –ë–î `additionalCities`
2. –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –°–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `UserCityResponsibility`

–ù–æ –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `REGIONAL_MANAGERS`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≥–æ—Ä–æ–¥–∞ –Ω–∞–ø–∏—Å–∞–Ω—ã –ó–ê–ì–õ–ê–í–ù–´–ú–ò –±—É–∫–≤–∞–º–∏: `POZNAN`, –Ω–µ `Poznan`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø–æ–ª–Ω–∏–ª –æ—Ç—á–µ—Ç –∑–∞ –Ω—É–∂–Ω—É—é –Ω–µ–¥–µ–ª—é

### –ü—Ä–æ–±–ª–µ–º–∞: –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ

**–†–µ—à–µ–Ω–∏–µ:**
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –µ—Å–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥–æ—Ä–æ–¥–∞—Ö. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É:
```typescript
// –°—á–∏—Ç–∞–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–≤ –ø–µ—Ä–≤–æ–º –≥–æ—Ä–æ–¥–µ)
if (city === cities[0]) {
  cityData.totalEmployees++;
}
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥–∞ - –ø–∏—à–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.


