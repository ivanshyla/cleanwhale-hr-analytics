# üîç –ü–æ—á–µ–º—É –∫—Ä–æ–Ω –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?

## üìÖ –§–∞–∫—Ç—ã

### –ù–µ–¥–µ–ª—è W42 (14-20 –æ–∫—Ç—è–±—Ä—è 2025)
- **–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 20 –æ–∫—Ç—è–±—Ä—è 17:00 UTC** (19:00 Warsaw) - –∫—Ä–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –∑–∞ W42
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—á–µ—Ç –ù–ï –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –î–µ–ø–ª–æ–∏ –ø–µ—Ä–µ–¥ –∫—Ä–æ–Ω–æ–º
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π –¥–æ 20 –æ–∫—Ç—è–±—Ä—è: **–∫–æ–º–º–∏—Ç `2cdac8d` –æ—Ç 10 –æ–∫—Ç—è–±—Ä—è**
- –ú–µ–∂–¥—É 10 –∏ 20 –æ–∫—Ç—è–±—Ä—è: **41 –∫–æ–º–º–∏—Ç** (–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –ø–µ—Ä–µ–¥ –∫—Ä–æ–Ω–æ–º: **`0db90d1`** (–¥–∞—Ç–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞, –Ω–æ –º–µ–∂–¥—É 10-20 –æ–∫—Ç—è–±—Ä—è)

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. ‚ö†Ô∏è –ö—Ä–æ–Ω –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ Vercel (–°–ê–ú–ê–Ø –í–ï–†–û–Ø–¢–ù–ê–Ø)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–π—Ç–∏ –Ω–∞ https://vercel.com/
2. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç `cleanwhale-hr-analytics`
3. Settings ‚Üí Cron Jobs
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ –∫—Ä–æ–Ω `/api/cron/weekly-report`

**–ü–æ—á–µ–º—É —ç—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- –§–∞–π–ª `vercel.json` –±—ã–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω 10 –æ–∫—Ç—è–±—Ä—è
- –ú–µ–∂–¥—É 10 –∏ 20 –æ–∫—Ç—è–±—Ä—è –±—ã–ª–æ 41 –∫–æ–º–º–∏—Ç
- Vercel –º–æ–≥ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–æ–Ω-–∑–∞–¥–∞—á—É –≤ dashboard

**–†–µ—à–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –∫—Ä–æ–Ω–∞ –Ω–µ—Ç –≤ dashboard Vercel - –æ–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞ (28 –æ–∫—Ç—è–±—Ä—è 00:20) –∫—Ä–æ–Ω –¥–æ–ª–∂–µ–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –°–ª–µ–¥—É—é—â–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫: **–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 4 –Ω–æ—è–±—Ä—è 19:00 Warsaw**

### 2. üïí –ü—Ä–æ–±–ª–µ–º–∞ —Å timezone

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```json
{
  "crons": [
    {
      "path": "/api/cron/weekly-report",
      "schedule": "0 17 * * 1"
    }
  ]
}
```

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:**
- `0 17 * * 1` = –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 17:00 UTC
- –í Warsaw: 19:00 (UTC+2 –ª–µ—Ç–æ–º) –∏–ª–∏ 18:00 (UTC+1 –∑–∏–º–æ–π)
- 27 –æ–∫—Ç—è–±—Ä—è 2025: –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∑–∏–º–Ω–µ–µ –≤—Ä–µ–º—è –≤ –ï–≤—Ä–æ–ø–µ
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞: 17:00 UTC = 18:00 Warsaw

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ –∫—Ä–æ–Ω –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ª–µ—Ç–Ω–µ–µ –≤—Ä–µ–º—è, –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ–Ω –º–æ–≥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å

### 3. üîë –ü—Ä–æ–±–ª–µ–º–∞ —Å CRON_SECRET

**–ö–æ–¥ –∑–∞—â–∏—Ç—ã:**
```typescript
const vercelCronHeader = request.headers.get('x-vercel-cron');
const cronSecret = process.env.CRON_SECRET?.trim();

const isVercelCron = vercelCronHeader === '1' || vercelCronHeader === 'true';
const isManualCall = cronSecret && authHeader === `Bearer ${cronSecret}`;

if (!isVercelCron && !isManualCall) {
  return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
}
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-vercel-cron: 1`
- –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–µ–Ω `Authorization: Bearer CRON_SECRET`

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ Vercel –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-vercel-cron` - –∫—Ä–æ–Ω –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
- –≠—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –µ—Å–ª–∏ –∫—Ä–æ–Ω –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ dashboard

### 4. üìä –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

**–ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Telegram (TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID)
- –ù–∞–ª–∏—á–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –Ω–µ–¥–µ–ª—é
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OpenAI (–¥–ª—è AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
–ï—Å–ª–∏ –∫—Ä–æ–Ω –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –Ω–æ —É–ø–∞–ª - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –≤ Vercel

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –ö–æ–¥ –∫—Ä–æ–Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. ‚úÖ `vercel.json` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. ‚úÖ –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ `x-vercel-cron` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
4. ‚úÖ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `send-report-w42.sh`)
5. ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –∑–∞–ª–∏—Ç –≤ main (28 –æ–∫—Ç—è–±—Ä—è 00:20)

## üîÆ –ß—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ

### –°–µ–≥–æ–¥–Ω—è (–≤—Ç–æ—Ä–Ω–∏–∫ 28 –æ–∫—Ç—è–±—Ä—è)
- –°–µ–π—á–∞—Å: 00:20 Warsaw (23:20 UTC –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ 27 –æ–∫—Ç—è–±—Ä—è)
- **–î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—Ä–æ–Ω–∞: ~17 —á–∞—Å–æ–≤**

### –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 28 –æ–∫—Ç—è–±—Ä—è 17:00 UTC
- ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û! –°–µ–≥–æ–¥–Ω—è –í–¢–û–†–ù–ò–ö, –∞ –Ω–µ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫

### –°–ª–µ–¥—É—é—â–∏–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 4 –Ω–æ—è–±—Ä—è 17:00 UTC (18:00 Warsaw)
- ‚úÖ –ö—Ä–æ–Ω –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û—Ç–ø—Ä–∞–≤–∏—Ç –æ—Ç—á–µ—Ç –∑–∞ –Ω–µ–¥–µ–ª—é W44 (28 –æ–∫—Ç—è–±—Ä—è - 3 –Ω–æ—è–±—Ä—è)
- –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è –∫—Ä–æ–Ω –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ Vercel

## üé¨ –î–µ–π—Å—Ç–≤–∏—è

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Vercel Dashboard ‚Üí Cron Jobs
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫—Ä–æ–Ω `/api/cron/weekly-report` –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–µ—Å–ª–∏ –±—ã–ª–∏)

### –ï—Å–ª–∏ –∫—Ä–æ–Ω –ù–ï –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω:
- –ü–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–ø–ª–æ—è (28 –æ–∫—Ç—è–±—Ä—è 00:20) –æ–Ω –¥–æ–ª–∂–µ–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω - –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å dummy commit

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã:
```bash
# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ—Ç—á–µ—Ç–∞ –∑–∞ –ª—é–±—É—é –Ω–µ–¥–µ–ª—é
bash send-report-w42.sh

# –ò–ª–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏
bash send-weekly-report.sh
```

## üìù –í—ã–≤–æ–¥

**–°–∞–º–∞—è –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** Vercel Cron Jobs –Ω–µ –±—ã–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤ dashboard –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `vercel.json`.

### üéØ –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ –ø—Ä–∏—á–∏–Ω–∞:

1. **–§–∞–π–ª `vercel.json` –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω 10 –æ–∫—Ç—è–±—Ä—è**
   - –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—ã–ª–æ 41 –∫–æ–º–º–∏—Ç –¥–æ 20 –æ–∫—Ç—è–±—Ä—è
   - –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–≤–∞–ª –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
   - –ù–æ Vercel Cron Jobs –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –¢–û–õ–¨–ö–û –≤—Ä—É—á–Ω—É—é –≤ dashboard

2. **Vercel —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫—Ä–æ–Ω-–∑–∞–¥–∞—á**
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å `vercel.json`
   - –ù—É–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ Vercel Dashboard ‚Üí Settings ‚Üí Cron Jobs
   - –ò –≤—Ä—É—á–Ω—É—é –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫—Ä–æ–Ω

3. **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `send-report-w42.sh` –æ—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏–ª—Å—è
   - –ó–Ω–∞—á–∏—Ç –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ó–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫—Ä–æ–Ω–∞

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:

1. **–ó–∞–π—Ç–∏ –≤ Vercel Dashboard:**
   ```
   https://vercel.com/
   ‚Üí –ü—Ä–æ–µ–∫—Ç: cleanwhale-hr-analytics
   ‚Üí Settings ‚Üí Cron Jobs
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–æ–Ω:**
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–æ–Ω: `/api/cron/weekly-report`
   - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: `0 17 * * 1` (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 17:00 UTC)
   - –°—Ç–∞—Ç—É—Å: Enabled ‚úÖ

3. **–ï—Å–ª–∏ –∫—Ä–æ–Ω–∞ –Ω–µ—Ç –∏–ª–∏ –æ–Ω Disabled:**
   - –ù–∞–∂–∞—Ç—å "Add Cron Job"
   - Path: `/api/cron/weekly-report`
   - Schedule: `0 17 * * 1`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

### üìÖ –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:

**–°–ª–µ–¥—É—é—â–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:**
- –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 4 –Ω–æ—è–±—Ä—è 2025
- 17:00 UTC = 18:00 Warsaw (–∑–∏–º–Ω–µ–µ –≤—Ä–µ–º—è!)
- –û—Ç–ø—Ä–∞–≤–∏—Ç –æ—Ç—á–µ—Ç –∑–∞ W44 (28 –æ–∫—Ç—è–±—Ä—è - 3 –Ω–æ—è–±—Ä—è)

---
*–°–æ–∑–¥–∞–Ω–æ: 28 –æ–∫—Ç—è–±—Ä—è 2025, 00:20 Warsaw*

