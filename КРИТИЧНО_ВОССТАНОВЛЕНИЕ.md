# üî¥ –ö–†–ò–¢–ò–ß–ù–û: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ë–î

**–ü—Ä–∏—á–∏–Ω–∞:** Debug endpoint `/api/debug/recreate-users-simple` —É–¥–∞–ª—è–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!

---

## ‚ö° –ë–´–°–¢–†–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï (2 –º–∏–Ω—É—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –Ω–æ–≤—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π endpoint

```bash
# 1. –°–æ–∑–¥–∞–π SETUP_SECRET (–æ–¥–∏–Ω —Ä–∞–∑)
export SETUP_SECRET=$(openssl rand -base64 32)

# 2. –î–æ–±–∞–≤—å –≤ Vercel Environment Variables:
#    SETUP_SECRET = —Ç–≤–æ–π_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç

# 3. –ü–æ—Å–ª–µ redeploy, –≤—ã–ø–æ–ª–Ω–∏:
curl -X POST https://your-app.vercel.app/api/setup/initialize \
  -H "Authorization: Bearer $SETUP_SECRET"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SQL –Ω–∞–ø—Ä—è–º—É—é

```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ Supabase SQL Editor –∏–ª–∏ —á–µ—Ä–µ–∑ psql

-- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ USERS_LIST.md —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏:
INSERT INTO "users" (id, login, password, name, role, city, "isActive", "createdAt", "updatedAt")
VALUES 
  (gen_random_uuid(), 'admin', '$2a$10$hashedPassword', 'Admin', 'ADMIN', 'WARSAW', true, NOW(), NOW()),
  (gen_random_uuid(), 'country_manager', '$2a$10$hashedPassword', 'Country Manager', 'COUNTRY_MANAGER', 'WARSAW', true, NOW(), NOW()),
  -- ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
ON CONFLICT (login) DO NOTHING;
```

---

## üîí –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï (–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ)

### 1. –£–î–ê–õ–ò–¢–¨ –û–ü–ê–°–ù–´–ï DEBUG ENDPOINTS

```bash
# –£–¥–∞–ª–∏ —ç—Ç–∏ —Ñ–∞–π–ª—ã:
rm src/app/api/debug/recreate-users-simple/route.ts
rm src/app/api/debug/init-db/route.ts
# –û—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ (read-only)
```

### 2. –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–¢–¨ DEBUG –í PRODUCTION

–£–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ middleware, –Ω–æ —É—Å–∏–ª–∏–º:

```typescript
// vercel.json
{
  "routes": [
    {
      "src": "/api/debug/.*",
      "status": 404
    }
  ]
}
```

### 3. BACKUP –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø

```bash
# Supabase –∏–º–µ–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
# Vercel Postgres —Ç–æ–∂–µ
# –í–∫–ª—é—á–∏ Point-in-Time Recovery!
```

---

## üìã –°–ü–ò–°–û–ö –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –î–õ–Ø –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø

```javascript
const users = [
  { login: 'admin', password: 'admin123', role: 'ADMIN', city: 'WARSAW' },
  { login: 'country_manager', password: 'country123', role: 'COUNTRY_MANAGER', city: 'WARSAW' },
  { login: 'artem.communication', password: 'artem123', role: 'OPS_MANAGER', city: 'WARSAW' },
  { login: 'yuliya.hr', password: 'yuliya123', role: 'HIRING_MANAGER', city: 'WARSAW' },
  { login: 'maryana.hr', password: 'maryana123', role: 'HIRING_MANAGER', city: 'WARSAW' },
  { login: 'viktoriya.communication', password: 'viktoriya123', role: 'OPS_MANAGER', city: 'WARSAW' },
  { login: 'menedzher.lodz', password: 'menedzher123', role: 'MIXED_MANAGER', city: 'LODZ' },
  { login: 'bogdana.krakow', password: 'bogdana123', role: 'OPS_MANAGER', city: 'KRAKOW' },
  { login: 'mariya.krakow', password: 'mariya123', role: 'OPS_MANAGER', city: 'KRAKOW' },
  { login: 'anastasiya.krakow', password: 'anastasiya123', role: 'HIRING_MANAGER', city: 'KRAKOW' },
  { login: 'artem.wroclaw', password: 'artem123', role: 'OPS_MANAGER', city: 'WROCLAW' },
  { login: 'anastasiya.wroclaw', password: 'anastasiya123', role: 'MIXED_MANAGER', city: 'WROCLAW' },
  { login: 'pavel.poznan', password: 'pavel123', role: 'MIXED_MANAGER', city: 'POZNAN' },
  { login: 'hr.gdansk', password: 'gdansk123', role: 'HIRING_MANAGER', city: 'GDANSK' },
];
```

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ß–¢–û –°–õ–£–ß–ò–õ–û–°–¨

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ Vercel
# 2. –ù–∞–π–¥–∏ –∫—Ç–æ –≤—ã–∑—ã–≤–∞–ª /api/debug/*
# 3. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å—á–µ–∑–ª–∏
```

---

## ‚úÖ –ò–¢–û–ì–û

**–°–µ–π—á–∞—Å:**
1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ `/api/setup/initialize`
2. –£–¥–∞–ª–∏ –æ–ø–∞—Å–Ω—ã–µ debug endpoints
3. –î–æ–±–∞–≤—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ù–∞ –±—É–¥—É—â–µ–µ:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π `DELETE FROM users` –≤ production-–¥–æ—Å—Ç—É–ø–Ω—ã—Ö endpoint
- –í—Å–µ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ CLI/SQL –Ω–∞–ø—Ä—è–º—É—é
- Debug endpoints –¢–û–õ–¨–ö–û –¥–ª—è development
- –í–∫–ª—é—á–∏ Point-in-Time Recovery –≤ –ë–î

